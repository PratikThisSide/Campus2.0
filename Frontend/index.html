<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Campus Maintenance System - User Portal">
  <title>User Portal | Campus Maintenance System</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    :root {
      --primary: #4361ee;
      --secondary: #3f37c9;
      --accent: #4895ef;
      --danger: #f72585;
      --success: #4cc9f0;
      --warning: #f8961e;
      --info: #43aa8b;
      --light: #f8f9fa;
      --dark: #212529;
      --text: #2b2d42;
      --bg: #ffffff;
      --card-bg: #f8f9fa;
      --header-bg: #ffffff;
      --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
    }

    [data-theme="dark"] {
      --primary: #4895ef;
      --secondary: #4361ee;
      --accent: #3f37c9;
      --danger: #f72585;
      --success: #4cc9f0;
      --warning: #f8961e;
      --info: #43aa8b;
      --light: #343a40;
      --dark: #f8f9fa;
      --text: #f8f9fa;
      --bg: #212529;
      --card-bg: #343a40;
      --header-bg: #343a40;
      --shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background-color: var(--bg);
      color: var(--text);
      transition: var(--transition);
      min-height: 100vh;
      position: relative;
      padding-bottom: 100px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }

    header {
      background-color: var(--header-bg);
      padding: 1.2rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 90;
      transition: var(--transition);
    }

    .branding {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .branding i {
      font-size: 1.8rem;
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }

    .nav-links a {
      color: var(--text);
      text-decoration: none;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: var(--transition);
      position: relative;
    }

    .nav-links a:hover {
      color: var(--primary);
    }

    .notification-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background-color: var(--danger);
      color: white;
      border-radius: 50%;
      width: 18px;
      height: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
      font-weight: bold;
    }

    .dashboard {
      padding: 2rem 0;
    }

    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }

    .dashboard-header h1 {
      font-size: 2.2rem;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 0.8rem;
    }

    .dashboard-header h1 i {
      font-size: 2rem;
    }

    .dark-toggle {
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.8rem 1.2rem;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: 500;
      transition: var(--transition);
      box-shadow: 0 4px 12px rgba(67, 97, 238, 0.3);
    }

    .dark-toggle:hover {
      background: var(--secondary);
      transform: translateY(-2px);
    }

    .dark-toggle.active {
      background: var(--dark);
      color: var(--light);
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .card {
      background-color: var(--card-bg);
      border-radius: 12px;
      padding: 1.8rem;
      box-shadow: var(--shadow);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(0, 0, 0, 0.1);
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
    }

    .card::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
    }

    .card-icon {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
      color: white;
      font-size: 1.5rem;
      box-shadow: 0 4px 12px rgba(67, 97, 238, 0.3);
    }

    .card h2 {
      font-size: 1.4rem;
      margin-bottom: 0.8rem;
      color: var(--primary);
    }

    .card p {
      color: var(--text);
      opacity: 0.8;
      margin-bottom: 1.5rem;
      line-height: 1.6;
      flex-grow: 1;
    }

    .card .btn-container {
      margin-top: auto;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      padding: 0.8rem 1.5rem;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 500;
      transition: var(--transition);
      color: white;
      border: none;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      width: 100%;
      text-align: center;
    }

    .btn i {
      transition: var(--transition);
    }

    .btn:hover i {
      transform: translateX(5px);
    }

    .btn.yellow {
      background: linear-gradient(135deg, #ff9a00, #ff6b00);
      box-shadow: 0 4px 12px rgba(255, 154, 0, 0.3);
    }

    .btn.blue {
      background: linear-gradient(135deg, #4361ee, #3a0ca3);
      box-shadow: 0 4px 12px rgba(67, 97, 238, 0.3);
    }

    .btn.green {
      background: linear-gradient(135deg, #4cc9f0, #4895ef);
      box-shadow: 0 4px 12px rgba(76, 201, 240, 0.3);
    }

    .btn.cyan {
      background: linear-gradient(135deg, #43aa8b, #4cc9f0);
      box-shadow: 0 4px 12px rgba(67, 170, 139, 0.3);
    }

    /* Recent Requests Section */
    .requests-container {
      background-color: var(--card-bg);
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: var(--shadow);
      transition: var(--transition);
      margin-bottom: 2rem;
    }

    .requests-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .requests-title {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--primary);
    }

    .requests-view-all {
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 0.3rem;
    }

    .requests-view-all:hover {
      text-decoration: underline;
    }

    .requests-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .request-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
      border-radius: 8px;
      background-color: rgba(67, 97, 238, 0.05);
      transition: var(--transition);
      cursor: pointer;
    }

    .request-item:hover {
      background-color: rgba(67, 97, 238, 0.1);
      transform: translateX(5px);
    }

    .request-info {
      flex: 1;
    }

    .request-title {
      font-weight: 500;
      margin-bottom: 0.3rem;
    }

    .request-details {
      font-size: 0.9rem;
      color: var(--text);
      opacity: 0.8;
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .request-detail {
      display: flex;
      align-items: center;
      gap: 0.3rem;
    }

    .request-status {
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 500;
      white-space: nowrap;
    }

    .status-pending {
      background-color: rgba(248, 150, 30, 0.1);
      color: var(--warning);
    }

    .status-in-progress {
      background-color: rgba(67, 97, 238, 0.1);
      color: var(--primary);
    }

    .status-completed {
      background-color: rgba(76, 201, 240, 0.1);
      color: var(--success);
    }

    /* College Bot Styles */
    .college-bot {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 100;
      transition: all 0.3s ease;
    }

    .bot-icon {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.8rem;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .bot-icon:hover {
      transform: scale(1.1) rotate(10deg);
    }

    .bot-chat {
      position: absolute;
      bottom: 70px;
      right: 0;
      width: 300px;
      background-color: var(--card-bg);
      border-radius: 15px;
      box-shadow: var(--shadow);
      padding: 1rem;
      opacity: 0;
      visibility: hidden;
      transform: translateY(20px);
      transition: all 0.3s ease;
    }

    .bot-chat.active {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .bot-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.8rem;
    }

    .bot-title {
      font-weight: 600;
      color: var(--primary);
    }

    .bot-close {
      background: none;
      border: none;
      color: var(--text);
      cursor: pointer;
      font-size: 1.2rem;
    }

    .bot-messages {
      max-height: 300px;
      overflow-y: auto;
      margin-bottom: 1rem;
    }

    .bot-message {
      background-color: rgba(67, 97, 238, 0.1);
      padding: 0.6rem 0.8rem;
      border-radius: 10px;
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
    }

    .bot-input {
      display: flex;
      gap: 0.5rem;
    }

    .bot-input input {
      flex: 1;
      padding: 0.6rem;
      border-radius: 8px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      background-color: var(--bg);
      color: var(--text);
    }

    .bot-input button {
      background-color: var(--primary);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 0 1rem;
      cursor: pointer;
    }

    /* Responsive Styles */
    @media (max-width: 768px) {
      .dashboard-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
      }
      
      .nav-links {
        gap: 1rem;
      }
      
      .college-bot {
        bottom: 20px;
        right: 20px;
      }
      
      .bot-chat {
        width: 280px;
      }
    }

    @media (max-width: 576px) {
      .dashboard {
        padding: 1.5rem 0;
      }
      
      header {
        padding: 1rem;
      }
      
      .branding {
        font-size: 1.2rem;
      }
      
      .nav-links a span {
        display: none;
      }
      
      .nav-links a i {
        font-size: 1.3rem;
      }
      
      .cards {
        grid-template-columns: 1fr;
      }
      
      .bot-chat {
        width: 260px;
        right: -20px;
      }
    }

    /* Animations */
    .animate__animated {
      animation-duration: 1s;
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="animate__animated animate__fadeInDown">
      <div class="branding">
        <i class="fas fa-tools"></i>
        <span>Campus Maintenance System</span>
      </div>
      <div class="nav-links">
        <a href="profile.html" class="profile-link">
          <i class="fas fa-user-circle"></i>
          <span>Profile</span>
        </a>
        <a href="notifications.html" class="notifications-link">
          <i class="fas fa-bell"></i>
          <span class="notification-badge">3</span>
        </a>
        <a href="login.html" class="logout-link">
          <i class="fas fa-sign-out-alt"></i>
          <span>Logout</span>
        </a>
      </div>
    </header>

    <div class="dashboard">
      <div class="dashboard-header animate__animated animate__fadeIn">
        <h1>
          <i class="fas fa-home"></i>
          User Dashboard
        </h1>
        <button class="dark-toggle" id="darkModeToggle">
          <i class="fas fa-moon"></i> Dark Mode
        </button>
      </div>

      <!-- Dashboard Cards -->
      <div class="cards">
        <div class="card animate__animated animate__fadeInUp">
          <div class="card-icon">
            <i class="fas fa-plus-circle"></i>
          </div>
          <h2>Create New Request</h2>
          <p>Submit a new maintenance request for any issue on campus. Our team will address it as soon as possible.</p>
          <div class="btn-container">
            <a href="raise-request.html" class="btn yellow">
              <span>Create Request</span>
              <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </div>

        <div class="card animate__animated animate__fadeInUp">
          <div class="card-icon">
            <i class="fas fa-tasks"></i>
          </div>
          <h2>My Requests</h2>
          <p>View and track all your submitted maintenance requests. Check status updates and completion details.</p>
          <div class="btn-container">
            <a href="Requests.html" class="btn blue">
              <span>View Requests</span>
              <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </div>

        <div class="card animate__animated animate__fadeInUp">
          <div class="card-icon">
            <i class="fas fa-check-circle"></i>
          </div>
          <h2>Completed Requests</h2>
          <p>Review your completed maintenance requests and provide feedback on the service received.</p>
          <div class="btn-container">
            <a href="view-request.html" class="btn green">
              <span>View History</span>
              <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </div>

        <div class="card animate__animated animate__fadeInUp">
          <div class="card-icon">
            <i class="fas fa-question-circle"></i>
          </div>
          <h2>Help & Support</h2>
          <p>Get help with using the system, learn about maintenance procedures, or contact support.</p>
          <div class="btn-container">
            <a href="help.html" class="btn cyan">
              <span>Get Help</span>
              <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </div>
      </div>

      <!-- Recent Requests Section -->
      <div class="requests-container animate__animated animate__fadeIn">
        <div class="requests-header">
          <div class="requests-title">
            <i class="fas fa-history"></i> Recent Requests
          </div>
          <a href="my-requests.html" class="requests-view-all">
            View All <i class="fas fa-arrow-right"></i>
          </a>
        </div>
        <div class="requests-list" id="requestsList">
          <!-- Request items will be dynamically inserted here -->
        </div>
      </div>
    </div>
  </div>

  <!-- College Bot -->
  <div class="college-bot">
    <div class="bot-chat" id="botChat">
      <div class="bot-header">
        <div class="bot-title">Campus Helper Bot</div>
        <button class="bot-close" id="botClose"><i class="fas fa-times"></i></button>
      </div>
      <div class="bot-messages" id="botMessages">
        <div class="bot-message">Hi there! I'm your campus helper. How can I assist you today?</div>
        <div class="bot-message">You can ask me about maintenance requests, campus facilities, or general help.</div>
      </div>
      <div class="bot-input">
        <input type="text" id="botInput" placeholder="Type your question...">
        <button id="botSend"><i class="fas fa-paper-plane"></i></button>
      </div>
    </div>
    <div class="bot-icon" id="botIcon">
      <i class="fas fa-robot"></i>
    </div>
  </div>

  <script>
    // DOM Elements
    const darkModeToggle = document.getElementById('darkModeToggle');
    const requestsList = document.getElementById('requestsList');
    const botIcon = document.getElementById('botIcon');
    const botChat = document.getElementById('botChat');
    const botClose = document.getElementById('botClose');
    const botMessages = document.getElementById('botMessages');
    const botInput = document.getElementById('botInput');
    const botSend = document.getElementById('botSend');

    // Check for saved theme preference or use preferred color scheme
    const savedTheme = localStorage.getItem('theme') || 
                     (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
    if (savedTheme === 'dark') {
      document.body.setAttribute('data-theme', 'dark');
      darkModeToggle.classList.add('active');
      darkModeToggle.innerHTML = '<i class="fas fa-sun"></i> Light Mode';
    }

    // Dark Mode Toggle
    darkModeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      const isDark = document.body.hasAttribute('data-theme');
      
      if (isDark) {
        document.body.removeAttribute('data-theme');
        localStorage.setItem('theme', 'light');
        darkModeToggle.classList.remove('active');
        darkModeToggle.innerHTML = '<i class="fas fa-moon"></i> Dark Mode';
      } else {
        document.body.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', 'dark');
        darkModeToggle.classList.add('active');
        darkModeToggle.innerHTML = '<i class="fas fa-sun"></i> Light Mode';
      }
    });

    // Load Recent Requests Data
    function loadRecentRequests() {
      const requests = [
        {
          id: 'REQ-1001',
          title: 'Leaky faucet in dorm bathroom',
          location: 'Dormitory A, Room 205',
          date: '2023-06-15',
          status: 'completed'
        },
        {
          id: 'REQ-1002',
          title: 'Broken desk in classroom',
          location: 'Building C, Room 312',
          date: '2023-06-12',
          status: 'in-progress'
        },
        {
          id: 'REQ-1003',
          title: 'AC not cooling properly',
          location: 'Library, Study Area',
          date: '2023-06-10',
          status: 'pending'
        }
      ];

      requestsList.innerHTML = requests.map(request => `
        <div class="request-item" onclick="window.location.href='request-detail.html?id=${request.id}'">
          <div class="request-info">
            <div class="request-title">${request.title}</div>
            <div class="request-details">
              <span class="request-detail">
                <i class="fas fa-map-marker-alt"></i> ${request.location}
              </span>
              <span class="request-detail">
                <i class="far fa-calendar-alt"></i> ${request.date}
              </span>
            </div>
          </div>
          <div class="request-status status-${request.status.replace('-', '')}">
            ${request.status.replace('-', ' ')}
          </div>
        </div>
      `).join('');
    }

    // College Bot Functionality
    botIcon.addEventListener('click', () => {
      botChat.classList.toggle('active');
    });

    botClose.addEventListener('click', () => {
      botChat.classList.remove('active');
    });

    botSend.addEventListener('click', sendBotMessage);
    botInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') sendBotMessage();
    });

    function sendBotMessage() {
      const message = botInput.value.trim();
      if (message) {
        // Add user message
        const userMessage = document.createElement('div');
        userMessage.className = 'bot-message';
        userMessage.textContent = message;
        userMessage.style.backgroundColor = 'rgba(67, 97, 238, 0.2)';
        userMessage.style.marginLeft = 'auto';
        userMessage.style.maxWidth = '80%';
        botMessages.appendChild(userMessage);
        
        // Clear input
        botInput.value = '';
        
        // Simulate bot response
        setTimeout(() => {
          const botResponse = document.createElement('div');
          botResponse.className = 'bot-message';
          
          // Simple response logic
          if (message.toLowerCase().includes('request') || message.toLowerCase().includes('maintenance')) {
            botResponse.textContent = 'You can create a new maintenance request by clicking on "Create Request" in your dashboard.';
          } else if (message.toLowerCase().includes('status') || message.toLowerCase().includes('progress')) {
            botResponse.textContent = 'Check the status of your requests in the "My Requests" section. Recent requests are also shown below.';
          } else if (message.toLowerCase().includes('help') || message.toLowerCase().includes('support')) {
            botResponse.textContent = 'For immediate assistance, please visit the "Help & Support" section or contact campus maintenance at maintenance@campus.edu';
          } else {
            botResponse.textContent = 'I can help with maintenance requests and campus facilities. Try asking about "how to submit a request" or "check request status".';
          }
          
          botMessages.appendChild(botResponse);
          botMessages.scrollTop = botMessages.scrollHeight;
        }, 800);
      }
    }

    // Initialize the application
    document.addEventListener('DOMContentLoaded', () => {
      loadRecentRequests();
      
      // Add animation to elements after load
      setTimeout(() => {
        document.querySelectorAll('.card').forEach((card, index) => {
          card.style.animationDelay = `${index * 0.1}s`;
        });
      }, 500);
    });

    // Make all buttons functional
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        // In a real application, this would navigate to the actual page
        alert(`This would navigate to: ${this.getAttribute('href')}`);
      });
    });
  </script>
</body>
</html>